<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cajmen</title>
</head>

<body>
    <div class="row">
        {{> yield}}
    </div>
</body>

<template name="tables">
<div class="row">
  <h3 class="small-12 columns">Tables</h3>
  <div class="small-12 columns">
    <ul class="small-block-grid-2 medium-block-grid-3 large-block-grid-4">
        {{#each tables}}
            <li><a class="button" href="{{pathFor 'table'}}">{{name}}</a></li>
        {{/each}}
    </ul>
  </div>
  </div>
  <div class="row">
    <div id="createtable" class="small-8 columns">
        <input type="text" id="new-table" placeholder="Add table" />
    </div>
    <div class="small-4 columns">
        <a class="button secondary postfix" href="{{pathFor 'items'}}">Items</a>
    </div>
  </div>
</template>

<template name="table">
<div class="row">
    <h3 class="small-12 columns">Table - {{table.name}}</h3>
    <div class="small-12 columns">
        <a id="new" class="button">New order</a>
        <a id="remove" class="button secondary right">Remove table</a>
    </div>
    {{#each orders}}
        <p class="small-12 columns"><a href="{{pathFor 'order'}}"><code>{{_id}}</code></a>
        {{#if created}} - {{moment created}}{{/if}}</p>
    {{/each}}
</div>
</template> 

<template name="items">
<div class="row">
    <h3 class="small-12 columns">Items</h3>
</div>
{{#each items}}
<div class="row">
    <div class="small-8 columns">{{name}}</div>
    <div class="small-2 columns text-right">{{price}}</div>
    <div class="small-2 columns"><button id="delete" class="button alert postfix"><i class="fi-x"></i></button></div>
</div>  
{{/each}}
<div id="additem" class="row">
    <div class="small-7 columns"><input type="text" id="name" placeholder="name" /></div>
    <div class="small-3 columns"><input type="number" id="price" placeholder="price" /></div>
    <div class="small-2 columns"><button class="button postfix success" id="add"><i class="fi-plus"></i></button></div>
</div>  
</template>

<template name="order">
    <div class="row">
        <h3 class="small-12 columns">Order - {{order._id}}</h3>
    </div>
    {{#each items}}
         <div class="row">
            <div class="small-8 columns">{{name}}</div>
            <div class="small-2 columns text-right">{{price}}</div>
            <div class="small-2 columns"><button id="add" class="button success postfix"><i class="fi-plus"></i></button></div>
         </div>
    {{/each}}
    <hr/>
    <div class="row">
        <div class="small-8 columns"><h4>Total</h4></div>
        <div class="small-2 columns"><h4>{{sum}}</h4></div>
    </div>
    {{#each ordered}}
         <div class="row">
            <div class="small-8 columns">{{item.name}}</div>
            <div class="small-2 columns text-right">{{item.price}}</div>
            <div class="small-2 columns">
                {{#if printed}}
                    <button id="disabled" class="button disabled sucess postfix"><i class="fi-print"></i></button>
                {{else}}
                    <button id="remove" class="button alert postfix"><i class="fi-minus"></i></button>
                {{/if}}
            </div>
         </div>
    {{/each}}
    <div class="row">
        <div class="small-6 columns"><button id="print" class="button">Print</button></div>
        <div class="small-6 columns text-right"><button id="removeOrder" class="button">Remove</button></div>
    </div>
</template>
